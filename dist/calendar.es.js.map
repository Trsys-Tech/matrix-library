{"version":3,"file":"calendar.es.js","sources":["../src/components/date-picker/calendar.tsx"],"sourcesContent":["\"use client\";\n\n/* eslint-disable camelcase */\nimport * as React from \"react\";\nimport { Chevron, DayPicker, DayPickerProps } from \"react-day-picker\";\nimport { ChevronDown, ChevronLeft, ChevronRight } from \"@trsys-tech/matrix-icons\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@radix-ui/react-collapsible\";\n\nimport { cn } from \"../../lib/utils\";\nimport { Button } from \"../button/Button\";\n\nexport type CalendarProps = DayPickerProps & {};\n\nfunction Calendar({ className, classNames, showOutsideDays = true, ...props }: CalendarProps) {\n  const yearCollapseRef = React.useRef<HTMLDivElement>(null);\n  const [size, setSize] = React.useState({ width: 0, height: 0 });\n\n  React.useEffect(() => {\n    if (yearCollapseRef.current) {\n      const { width, height } = yearCollapseRef.current.parentElement?.parentElement?.parentElement?.getBoundingClientRect() ?? {\n        width: 0,\n        height: 0,\n      };\n      setSize({ width, height });\n    }\n  }, []);\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3 relative w-full max-w-sm group/root z-10\", className)}\n      classNames={{\n        months: cn(\"relative flex flex-col\", props.mode === \"range\" && \"md:flex-row md:space-x-4 md:space-y-2\"),\n        month: \"space-y-4 peer md:flex-1\",\n        month_caption: \"flex justify-center pt-1 relative items-center\",\n        dropdowns: \"flex gap-2\",\n        caption_label: \"text-sm font-bold\",\n        nav: cn(\"space-x-1 flex items-center group-has-[[data-state=open]]/root:hidden\", props.mode !== \"range\" && \"relative\"),\n        button_previous: cn(\n          \"h-7 w-7 bg-transparent p-0 text-primary hover:opacity-100 absolute left-2 top-0 md:top-0.5 z-10\",\n          props.mode === \"range\" && \"md:left-8 md:top-2\",\n        ),\n        button_next: cn(\n          \"h-7 w-7 bg-transparent p-0 text-primary hover:opacity-100 absolute right-2 top-0 md:top-0.5 z-10\",\n          props.mode === \"range\" && \"md:top-2\",\n        ),\n        month_grid: cn(\"w-full border-collapse space-y-1\"),\n        weekdays: \"grid grid-cols-7 justify-items-center\",\n        weekday: \"text-text rounded-md w-8 font-bold text-sm\",\n        week: \"mt-2 h-11 grid grid-cols-7 items-center\",\n        day: \"relative p-0 text-center text-sm h-11 min-w-11 md:min-w-9 md:h-9\",\n        day_button: \"w-11 md:w-9 h-full p-0 text-sm\",\n        range_start:\n          \"before:block before:absolute before:-z-10 before:content-[''] before:w-1/2 before:end-0 before:h-full before:bg-secondary/50 after:!w-0\",\n        range_end:\n          \"after:block after:absolute after:top-0 after:-z-10 after:content-[''] after:w-1/2 after:start-0 after:h-full after:bg-secondary/50 before:!w-0\",\n        selected:\n          \"[&>button]:bg-secondary [&>button]:rounded-full text-text font-bold [&>button]:hover:bg-secondary [&>button]:hover:text-text [&>button]:focus:bg-secondary [&>button]:focus:text-text [&>button]:text-xs\",\n        today: \"text-primary font-bold [&>button]:text-xs\",\n        outside:\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        disabled: \"text-muted-foreground opacity-50\",\n        range_middle: \"bg-secondary/50 [&>button]:data-[selected='true']:bg-secondary/0 data-[selected='true']:rounded-none text-accent-foreground\",\n        hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        Chevron: props => {\n          if (props.orientation === \"left\") {\n            return <ChevronLeft {...props} className=\"h-6 w-6\" />;\n          } else if (props.orientation === \"right\") {\n            return <ChevronRight {...props} className=\"h-6 w-6\" />;\n          }\n          return <Chevron {...props} />;\n        },\n        YearsDropdown: params => {\n          const handleChange = (value: string) => {\n            params.onChange?.({ target: { value: value } } as unknown as React.ChangeEvent<HTMLSelectElement>);\n          };\n          return (\n            <Collapsible ref={yearCollapseRef}>\n              <CollapsibleTrigger className=\"group flex items-center gap-1\">\n                {params.value} <ChevronDown className=\"text-primary w-5 h-5 group-data-[state='open']:rotate-180 transition-transform ms-auto\" />\n              </CollapsibleTrigger>\n              <CollapsibleContent\n                className=\"overflow-auto z-50 absolute bg-popover left-2 top-11 p-1\"\n                style={{ width: size.width, height: size.height - 44 }}\n              >\n                <div className=\"flex flex-row flex-wrap gap-4\">\n                  {params.options\n                    ? [...params.options]\n                        .sort((a, b) => Number(b.value) - Number(a.value)) // Sort in descending order (newest year first)\n                        .map(option => (\n                          <CollapsibleTrigger asChild key={option.label}>\n                            <Button\n                              data-value={option.value}\n                              variant=\"text\"\n                              className={cn(\"h-6 w-14 py-1 px-3 rounded-full font-bold\", params.value === option.value && \"bg-secondary\")}\n                              onClick={() => handleChange(option.value.toString())}\n                            >\n                              {option.label}\n                            </Button>\n                          </CollapsibleTrigger>\n                        ))\n                    : null}\n                </div>\n              </CollapsibleContent>\n            </Collapsible>\n          );\n        },\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = \"Calendar\";\n\nexport { Calendar };\n"],"names":["Calendar","className","classNames","showOutsideDays","props","yearCollapseRef","React","size","setSize","width","height","jsx","DayPicker","cn","ChevronLeft","ChevronRight","Chevron","params","handleChange","value","jsxs","Collapsible","CollapsibleTrigger","ChevronDown","CollapsibleContent","a","b","option","Button"],"mappings":"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"}